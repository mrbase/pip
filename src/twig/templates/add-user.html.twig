{% extends 'base.html.twig' %}
{% block content %}
    <h1>PIP - add user!</h1>

    {% if user_data is defined %}
        <div class="well">
            <div class="alert alert-success">
                Userblock:
                <pre>{{ user_data }}</pre>
            </div>

            <p>Copy/Paste the block above into the config file in the "users" section.</p>
        </div>
    {% endif %}

    <div class="well">
        <p>well, almost - we cannot add the user here, but we can generate the hashed version of the password that should go into the config file.</p>

        <form action="/add-user" method="post" class="form-horizontal" role="form" autocomplete="off">
            <div class="form-group">
                <label for="new-user">Username:</label>
                <input name="username" id="new-user" class="form-control">
            </div>
            <div class="form-group">
                <label for="new-roles">Username:</label>
                <select name="roles[]" id="new-roles" class="form-control" multiple>
                {% for role in roles %}
                    <option value="{{ role }}">{{ role }}</option>
                {% endfor %}
                </select>
            </div>
            <div class="form-group">
                <label for="new-password">Password:</label>
                <input name="password" id="new-password" class="form-control">
            </div>

            <button type="submit" class="btn btn-default">Submit</button>
        </form>

    </div>
{% endblock content %}
